#### **📌 يعني إيه While Loop؟**

✅ **While Loop** هي نوع من الحلقات التكرارية (`Loops`) اللي بتفضل تشتغل **طالما الشرط صحيح (`true`)**.  
✅ بنستخدمها لما مش عارفين عدد التكرارات مسبقًا، يعني ممكن تشتغل عدد لا نهائي من المرات لحد ما يتحقق شرط الإيقاف.  
✅ لو الشرط فضل صحيح، الحلقة هتفضل تشتغل **إلى ما لا نهاية (Infinite Loop)**.

---

### **1️⃣ الشكل العام لـ While Loop**

📌 **الصيغة الأساسية:**

```php
while (الشرط) {
    // الكود اللي هيتنفذ طالما الشرط صحيح
}
```

📌 **مثال عملي: طباعة الأرقام من 1 لـ 5**

```php
$counter = 1;  // بداية العداد
while ($counter <= 5) {  // الشرط
    echo "رقم: $counter <br>";
    $counter++;  // زيادة العداد
}
```

🔹 **كيف تعمل؟**  
1️⃣ يبدأ `$counter` بقيمة 1.  
2️⃣ طالما `$counter <= 5`، ينفذ الكود داخل الحلقة.  
3️⃣ بعد كل تكرار، `$counter` يزيد بـ 1 (`$counter++`).  
4️⃣ لما `$counter` يصبح 6، الشرط يكون خطأ (`false`) وتتوقف الحلقة.

✅ **الناتج:**

```php
رقم: 1
رقم: 2
رقم: 3
رقم: 4
رقم: 5
```

---

### **2️⃣ الفرق بين While و For Loop**

📌 **While Loop:**

- بنستخدمها لما **مش عارفين عدد التكرارات مسبقًا**.
- الشرط بيتم فحصه قبل تنفيذ الكود كل مرة.

📌 **For Loop:**

- بنستخدمها لما **عارفين عدد التكرارات مسبقًا**.
- فيها 3 أجزاء: **البداية، الشرط، التعديل (`++ / --`)**.

✅ **مثال يوضح الفرق:**

```php
// باستخدام for
for ($i = 1; $i <= 5; $i++) {
    echo "$i <br>";
}

// باستخدام while
$i = 1;
while ($i <= 5) {
    echo "$i <br>";
    $i++;
}
```

🔹 النتيجة واحدة، لكن **`for` أكثر اختصارًا لما يكون عدد التكرارات معروف.**

---

### **3️⃣ التكرار حتى إدخال المستخدم رقم معين**

📌 **كود يسمح للمستخدم بإدخال رقم، ويستمر في العد لحد ما يوصل للرقم المطلوب:**

```php
<form action="index.php" method="post">
    <label>ادخل رقم:</label>
    <input type="text" name="counter">
    <input type="submit" value="ابدأ العد">
</form>

<?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $counter = 1;
    $target = $_POST["counter"];

    while ($counter <= $target) {
        echo "$counter <br>";
        $counter++;
    }
}
?>
```

✅ **لو المستخدم دخل `5`، النتيجة:**

```php
1
2
3
4
5
```

---

### **4️⃣ الحلقات اللانهائية (Infinite Loops)**

📌 **لو نسينا نحدّث المتغير داخل `while`، الحلقة هتفضل شغالة للأبد وتسبب تهنيج السيرفر!**

```php
$x = 1;
while ($x <= 10) {  // الشرط صحيح للأبد!
    echo "$x <br>";
}
```

🔴 **ده غلط! لأن `$x` مش بيتغير، فالحلقة مش هتتوقف.**

✅ **الحل الصحيح:**

```php
$x = 1;
while ($x <= 10) {
    echo "$x <br>";
    $x++;  // زيادة المتغير كل مرة
}
```

---

### **5️⃣ مثال عملي: تشغيل عداد زمني والتوقف بزر إيقاف**

📌 **كود محاكاة لعداد زمني يستمر في العد لحد ما المستخدم يضغط على زر "إيقاف":**

```php
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<form action="index.php" method="post">
    <input type="submit" name="stop" value="إيقاف العد">
</form>
</body>
</html>

<?php
$seconds = 0;
$running = true;

while ($running) {
  if (isset($_POST["stop"])) {
    $running = false;
  }
  else {
    $seconds++;
    echo $seconds . "<br>";
  }
}
?>
```

🔹 **كيف يعمل؟** 
✅ العدّاد يبدأ ويزيد كل ثانية.  
✅ بمجرد الضغط على **"إيقاف"**، العداد يتوقف.  

---

### **🔹 الخلاصة 🚀**

✔ **`while` مناسبة لما مش عارفين عدد التكرارات مسبقًا.**  
✔ **لازم يكون فيه شرط إيقاف وإلا هتفضل الحلقة شغالة للأبد!**  
✔ **بتشتغل زي `for`، بس بدون الحاجة لتحديد البداية والتعديل في نفس السطر.**  
✔ **ممكن نستخدمها في عمليات غير محددة الزمن زي انتظار إدخال من المستخدم أو تشغيل عداد.**  
✔ **يفضل استخدام `for` لو عارفين عدد التكرارات، و`while` لو مش متأكدين من العدد مسبقًا.**